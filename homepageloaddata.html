<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>project homepage</title>

    <link rel="stylesheet" type="text/css" href="project.css" />
  </head>

  <body>
    <div id="nav-bar">
      <ul id="nav-bar">
        <li id="nav-bar"><a id="nav-bar" class="active" href="homepage.html">Home</a></li>
        <li id="nav-bar"><a id="nav-bar" href="documentation.html">Documentation</a></li>
        <li id="nav-bar"><a  id="nav-bar" href="about.html">About</a></li>
        <li id="nav-bar"><a  id="nav-bar" href="help.html">Help</a></li>
      </ul>
    </div>

    <p>
        <div class="container">
          <div class="wrapper">
            <div class="header">Test AJAX page</div>
            <button class="button" onclick="loadData()">Load Some JSON</button>
            <div class="content"></div>
            <div class="footer"></div>
          </div>
        </div>
    </p>
    <script>
        /*testing*/
        function loadData() {
            fetch('https://data.princegeorgescountymd.gov/resource/mnkf-cu5c.json')
            .then(res => res.json())
            .then(res => res.map(c => c.location))
            .then(res => {
              // you can now work in this area
              var str = "<ul>"
              res.forEach(function(route) {
                  str += "<li>" + route + "</li>"
              });
              str += "</ul>"
              return str;
            })
            .then(data => document.querySelector(".content").innerHTML = data)
            .then(thing => {
                var spl = thing.split("</li><li>")
                var h = document.querySelector(".header").innerHTML
                document.querySelector(".header").innerHTML =  h + " " + spl[1]
                return spl[1];
            })
        }
    </script>
  </body>
</html>
